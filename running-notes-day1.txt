
login as: docker
docker@192.168.99.104's password:
                         _             _
            _         _ ( )           ( )
  ___ ___  (_)  ___  (_)| |/')  _   _ | |_      __
/' _ ` _ `\| |/' _ `\| || , <  ( ) ( )| '_`\  /'__`\
| ( ) ( ) || || ( ) || || |\`\ | (_) || |_) )(  ___/
(_) (_) (_)(_)(_) (_)(_)(_) (_)`\___/'(_,__/'`\____)

$ ps -ef | grep dockerd
root      2418     1  7 15:51 ?        00:02:15 /usr/bin/dockerd -H tcp://0.0.0.0:2376 -H unix:///var/run/docker.sock --tlsverify --tlscacert /etc/docker/ca.pem --tlscert /etc/docker/server.pem --tlskey /etc/docker/server-key.pem --label provider=virtualbox --insecure-registry 10.96.0.0/12
docker   12315  7468  0 16:19 pts/0    00:00:00 grep dockerd
$ ping google.com
PING google.com (216.58.196.174): 56 data bytes
64 bytes from 216.58.196.174: seq=0 ttl=53 time=59.145 ms
64 bytes from 216.58.196.174: seq=1 ttl=53 time=78.751 ms
^C
--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 59.145/68.948/78.751 ms
$ id
uid=1001(docker) gid=1001(docker) groups=1001(docker),10(wheel),1000(rkt),1015(rkt-admin),1016(vboxsf)
$ pwd
/home/docker
$ export PS1='\n$PWD> '

/home/docker>

/home/docker> ps -ef | grep dockerd
root      2418     1  7 15:51 ?        00:08:14 /usr/bin/dockerd -H tcp://0.0.0.0:2376 -H unix:///var/run/docker.sock --tlsverify --tlscacert /etc/docker/ca.pem --tlscert /etc/docker/server.pem --tlskey /etc/docker/server-key.pem --label provider=virtualbox --insecure-registry 10.96.0.0/12
docker   26256  7468  0 17:34 pts/0    00:00:00 grep dockerd

/home/docker> docker version
Client:
 Version:      17.09.0-ce
 API version:  1.32
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:39:28 2017
 OS/Arch:      linux/amd64

Server:
 Version:      17.09.0-ce
 API version:  1.32 (minimum version 1.12)
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:45:38 2017
 OS/Arch:      linux/amd64
 Experimental: false

/home/docker> docker

Usage:  docker COMMAND

A self-sufficient runtime for containers

Options:
      --config string      Location of client config files (default
                           "/home/docker/.docker")
  -D, --debug              Enable debug mode
      --help               Print usage
  -H, --host list          Daemon socket(s) to connect to
  -l, --log-level string   Set the logging level
                           ("debug"|"info"|"warn"|"error"|"fatal")
                           (default "info")
      --tls                Use TLS; implied by --tlsverify
      --tlscacert string   Trust certs signed only by this CA (default
                           "/home/docker/.docker/ca.pem")
      --tlscert string     Path to TLS certificate file (default
                           "/home/docker/.docker/cert.pem")
      --tlskey string      Path to TLS key file (default
                           "/home/docker/.docker/key.pem")
      --tlsverify          Use TLS and verify the remote
  -v, --version            Print version information and quit

Management Commands:
  config      Manage Docker configs
  container   Manage containers
  image       Manage images
  network     Manage networks
  node        Manage Swarm nodes
  plugin      Manage plugins
  secret      Manage Docker secrets
  service     Manage services
  stack       Manage Docker stacks
  swarm       Manage Swarm
  system      Manage Docker
  volume      Manage volumes

Commands:
  attach      Attach local standard input, output, and error streams to a running container
  build       Build an image from a Dockerfile
  commit      Create a new image from a container's changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container's filesystem
  events      Get real time events from the server
  exec        Run a command in a running container
  export      Export a container's filesystem as a tar archive
  history     Show the history of an image
  images      List images
  import      Import the contents from a tarball to create a filesystem image
  info        Display system-wide information
  inspect     Return low-level information on Docker objects
  kill        Kill one or more running containers
  load        Load an image from a tar archive or STDIN
  login       Log in to a Docker registry
  logout      Log out from a Docker registry
  logs        Fetch the logs of a container
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  ps          List containers
  pull        Pull an image or a repository from a registry
  push        Push an image or a repository to a registry
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Remove one or more images
  run         Run a command in a new container
  save        Save one or more images to a tar archive (streamed to STDOUT by default)
  search      Search the Docker Hub for images
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  version     Show the Docker version information
  wait        Block until one or more containers stop, then print their exit codes

Run 'docker COMMAND --help' for more information on a command.

/home/docker>

/home/docker> docker image pull nginx
Using default tag: latest
latest: Pulling from library/nginx
27833a3ba0a5: Downloading  4.832MB/22.5MB
e83729dd399a: Downloading  2.997MB/22.28MB
ebc6a67df66d: Download complete
^C

/home/docker> docker image ls nginx
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx               alpine              32a037976344        3 weeks ago         16.1MB
nginx               stable              e706cb01fa6b        3 weeks ago         109MB

/home/docker> docker image pull nginx
Using default tag: latest
latest: Pulling from library/nginx
27833a3ba0a5: Pull complete
e83729dd399a: Pull complete
ebc6a67df66d: Pull complete
Digest: sha256:c8a861b8a1eeef6d48955a6c6d5dff8e2580f13ff4d0f549e082e7c82a8617a2
Status: Downloaded newer image for nginx:latest

/home/docker>

/home/docker> docker container run nginx

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                          PORTS                                                                NAMES
968b6fb620b8        nginx                                                            "nginx -g 'daemon ..."   4 minutes ago       Exited (0) About a minute ago                                                                        peaceful_wright
db3f83e558cc        ghost:1-alpine                                                   "docker-entrypoint..."   2 weeks ago         Exited (0) 2 weeks ago                                                                               ghost
7ded0284b1d4        mysql:5.7                                                        "docker-entrypoint..."   2 weeks ago         Exited (137) 2 weeks ago        3306/tcp, 33060/tcp                                                  blog-db

/home/docker> docker container start 968b6fb620b8
968b6fb620b8

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
968b6fb620b8        nginx                                                            "nginx -g 'daemon ..."   5 minutes ago       Up 4 seconds        80/tcp                                                               peaceful_wright

/home/docker> docker container rm db3f83e558cc
db3f83e558cc

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                     PORTS                                                                NAMES
968b6fb620b8        nginx                                                            "nginx -g 'daemon ..."   7 minutes ago       Up About a minute          80/tcp                                                               peaceful_wright
7ded0284b1d4        mysql:5.7                                                        "docker-entrypoint..."   2 weeks ago         Exited (137) 2 weeks ago   3306/tcp, 33060/tcp                                                  blog-db

/home/docker> docker container rm 968b6fb620b8
Error response from daemon: You cannot remove a running container 968b6fb620b8a79b59e5397c497013d439ba59f84eb52a25b63c24241427034a. Stop the container before attempting removal or force remove

/home/docker> docker container rm -f 968b6fb620b8
968b6fb620b8

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                     PORTS                                                                NAMES
7ded0284b1d4        mysql:5.7                                                        "docker-entrypoint..."   2 weeks ago         Exited (137) 2 weeks ago   3306/tcp, 33060/tcp                                                  blog-db

/home/docker> docker container prune
WARNING! This will remove all stopped containers.
Are you sure you want to continue? [y/N] y
Deleted Containers:
3ff245cf60e59e53cf3591dc0c0b446d833447b261ece9c8ab7d785c92a72172
3f717cced8b4b34f461d635dfab6d2851ad7d2b5b090684ddb29e04b9d292b02
ead624cadf68b2ba6fbe188eed7db4ffca72ef352d26c814ddd647a5499381e4
877ce5ba5af08a7dba8fd13fc973e78b64304866ef0f8f0b5fb14603a70e9723
e4f7952d7c497de5895d5d3119bab70d6ce041aa6d80770335f4b6402cf14355
8dfb2b419ca535bf0dc2184a98b5426229033c0dd0375c4c1d15c1e79266b78f
350efba9026b0977c23ffaf3f7a56ad606f986f3e3f041b2a6c46299b932d720
95cd683c82989a7612ced507bfa61085a00d6e23594588f323395edb39367357
430c5f8f6460706663a50b513f1def6011e1c50038a04d73052746780018a06b
3a99276dcf668c7dda98590b3f099ef6900792cb1f46bcc9bb82d2ce216f8952
d9be8b7e1b89e7a2984d7e901421aac0cac3c0ccf80a222da5cd64f58bee6e57
684e16651af648e9630d124228de6fe8bcce471860262ff9dd32bab9d096dccc
75ee9a769b173ec92eaf43f9976eea4473193d29ce8e670f2d1dc67d11e19d19
57502d682a0aa4fae83e5b32051f95dc3f24a69a0ac80573681022d6c72d0542
fb605e3b5f384729dd17b3fec1c19f3a526d5920547d902ac8f1e45fe14c1783
06514f1f715a4a417eba4f67c380d1496e9b9d7721e227117e9c804cf0e1aada
b3e40076f4151f43427e756098bbae347e25ec1f86a251287672279a123c4860
1f43f2234ad944e54848d8b17f939e3d34eec71f75e477b9148d674702940cc9
ff3700cebc16cfad00dac37b542130e04411eab72353d54c569f71c48d642061
eb8d3eb43da58591841b273afb6a41ff07a55ab7c5356d566ae6ea79a6745758
254ea59d1c641695a1067176b00e10cbb64908013a6d3422243b3e79f987d202
5d7018b7fd2983f8984cc06ead5eb5f31a9297fe3e62f5b1884ce54711fb1f8f
b9cec6c4931e28468a2a9f58c5e13b030b2d1311c1b9456f0cc5341f443acb9e
79d4fdf26b771cc74d29ba9d9abb353865fea996ca370e69f84ad61dcbc51ec7
60883cdb5e2fdf642f5536a11054a8373be2df493084d817f5d74435522fdf92
52103ad221da4696069fd2ba1d67c7165e7ddce4f37088657919723ab873128c
6b7bbed22eb6462d358c95f521ea909b6803427bc2fc0d518393cde9a0c46094
de556f05043c083c5276b98f220362f8c276c3e703cee4f8e00a7a9f0eef63d6
e0a3d6412d151b1395485439b4d4fca1e7577a2f5f41c0b5dd404ae2059bf9e3
9317bcbcb82932304c2330897f20e29f253584a4abd1e73c5daa4c627aa8e652
c784416607fc456abf167e294612191e17f83407bfe6f1f56f6b1447a25328d2
24c3b84a26477e6bca7ad5a89fdde98ea4c5775ccef0c9ef00dfe3e1b6aa8e6f
e2ac3ea32890b358dae2df56570f65c5dc2bfc3d9f0801c5b4da3a06cecd7ad3
39a3bdccf9c459d8488dc00d157864451bd684bb9c348f16b12e1936b51fc764
7ded0284b1d4e2dc5fbcf34135eef386eb544e833d287292389c8be239475d34

Total reclaimed space: 6.958MB

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker>


---------------------------------------------------------------------------------------

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker> docker container run -d nginx
13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
13f158a563b8        nginx                                                            "nginx -g 'daemon ..."   8 seconds ago       Up 7 seconds        80/tcp                                                               unruffled_khorana

/home/docker> docker container inspect 13f158a563b8
[
    {
        "Id": "13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02",
        "Created": "2019-04-01T18:15:42.020245381Z",
        "Path": "nginx",
        "Args": [
            "-g",
            "daemon off;"
        ],
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 2020,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2019-04-01T18:15:42.552730542Z",
            "FinishedAt": "0001-01-01T00:00:00Z"
        },
        "Image": "sha256:2bcb04bdb83f7c5dc30f0edaca1609a716bda1c7d2244d4f5fbbdfef33da366c",
        "ResolvConfPath": "/var/lib/docker/containers/13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02/resolv.conf",
        "HostnamePath": "/var/lib/docker/containers/13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02/hostname",
        "HostsPath": "/var/lib/docker/containers/13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02/hosts",
        "LogPath": "/var/lib/docker/containers/13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02/13f158a563b8d034211229190fb6a28f23730817c2fdc8b98128b69424702a02-json.log",
        "Name": "/unruffled_khorana",
        "RestartCount": 0,
        "Driver": "overlay2",
        "Platform": "linux",
        "MountLabel": "",
        "ProcessLabel": "",
        "AppArmorProfile": "",
        "ExecIDs": null,
        "HostConfig": {
            "Binds": null,
            "ContainerIDFile": "",
            "LogConfig": {
                "Type": "json-file",
                "Config": {}
            },
            "NetworkMode": "default",
            "PortBindings": {},
            "RestartPolicy": {
                "Name": "no",
                "MaximumRetryCount": 0
            },
            "AutoRemove": false,
            "VolumeDriver": "",
            "VolumesFrom": null,
            "CapAdd": null,
            "CapDrop": null,
            "Dns": [],
            "DnsOptions": [],
            "DnsSearch": [],
            "ExtraHosts": null,
            "GroupAdd": null,
            "IpcMode": "shareable",
            "Cgroup": "",
            "Links": null,
            "OomScoreAdj": 0,
            "PidMode": "",
            "Privileged": false,
            "PublishAllPorts": false,
            "ReadonlyRootfs": false,
            "SecurityOpt": null,
            "UTSMode": "",
            "UsernsMode": "",
            "ShmSize": 67108864,
            "Runtime": "runc",
            "ConsoleSize": [
                0,
                0
            ],
            "Isolation": "",
            "CpuShares": 0,
            "Memory": 0,
            "NanoCpus": 0,
            "CgroupParent": "",
            "BlkioWeight": 0,
            "BlkioWeightDevice": [],
            "BlkioDeviceReadBps": null,
            "BlkioDeviceWriteBps": null,
            "BlkioDeviceReadIOps": null,
            "BlkioDeviceWriteIOps": null,
            "CpuPeriod": 0,
            "CpuQuota": 0,
            "CpuRealtimePeriod": 0,
            "CpuRealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "Devices": [],
            "DeviceCgroupRules": null,
            "DiskQuota": 0,
            "KernelMemory": 0,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "MemorySwappiness": null,
            "OomKillDisable": false,
            "PidsLimit": 0,
            "Ulimits": null,
            "CpuCount": 0,
            "CpuPercent": 0,
            "IOMaximumIOps": 0,
            "IOMaximumBandwidth": 0
        },
        "GraphDriver": {
            "Data": {
                "LowerDir": "/var/lib/docker/overlay2/edea6f23ec6f4937788e8f440b8b0ed9d2d604861dfebc77fb206f1c08777325-init/diff:/var/lib/docker/overlay2/f1c53cdf84d2f6275223304e17fd70aa11701d7733da3cfc51f6cdeef65e3207/diff:/var/lib/docker/overlay2/f6a8f58f96f179c7154115040d67e95ace281d885243ba0c1fbb6ee12503f695/diff:/var/lib/docker/overlay2/4109b70c300b5a4a8e0b41d04bf5182a53cb7dbda605612f9c8cc43292fa3bb8/diff",
                "MergedDir": "/var/lib/docker/overlay2/edea6f23ec6f4937788e8f440b8b0ed9d2d604861dfebc77fb206f1c08777325/merged",
                "UpperDir": "/var/lib/docker/overlay2/edea6f23ec6f4937788e8f440b8b0ed9d2d604861dfebc77fb206f1c08777325/diff",
                "WorkDir": "/var/lib/docker/overlay2/edea6f23ec6f4937788e8f440b8b0ed9d2d604861dfebc77fb206f1c08777325/work"
            },
            "Name": "overlay2"
        },
        "Mounts": [],
        "Config": {
            "Hostname": "13f158a563b8",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "ExposedPorts": {
                "80/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "NGINX_VERSION=1.15.10-1~stretch",
                "NJS_VERSION=1.15.10.0.3.0-1~stretch"
            ],
            "Cmd": [
                "nginx",
                "-g",
                "daemon off;"
            ],
            "ArgsEscaped": true,
            "Image": "nginx",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": null,
            "OnBuild": null,
            "Labels": {
                "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
            },
            "StopSignal": "SIGTERM"
        },
        "NetworkSettings": {
            "Bridge": "",
            "SandboxID": "5d31f1f13dcf533b6e596735d921bdbda87dd6fdedbab15acec548aa8aea7b6c",
            "HairpinMode": false,
            "LinkLocalIPv6Address": "",
            "LinkLocalIPv6PrefixLen": 0,
            "Ports": {
                "80/tcp": null
            },
            "SandboxKey": "/var/run/docker/netns/5d31f1f13dcf",
            "SecondaryIPAddresses": null,
            "SecondaryIPv6Addresses": null,
            "EndpointID": "479768528ba2b23ef503b076032c318fb129c4da78a1710a6776cfd0bac46c75",
            "Gateway": "172.17.0.1",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "IPAddress": "172.17.0.17",
            "IPPrefixLen": 16,
            "IPv6Gateway": "",
            "MacAddress": "02:42:ac:11:00:11",
            "Networks": {
                "bridge": {
                    "IPAMConfig": null,
                    "Links": null,
                    "Aliases": null,
                    "NetworkID": "ef89778ac758dd4ec119e822cc918abaef402999105f2a71204f5e7f4ffad7de",
                    "EndpointID": "479768528ba2b23ef503b076032c318fb129c4da78a1710a6776cfd0bac46c75",
                    "Gateway": "172.17.0.1",
                    "IPAddress": "172.17.0.17",
                    "IPPrefixLen": 16,
                    "IPv6Gateway": "",
                    "GlobalIPv6Address": "",
                    "GlobalIPv6PrefixLen": 0,
                    "MacAddress": "02:42:ac:11:00:11",
                    "DriverOpts": null
                }
            }
        }
    }
]

/home/docker> docker container inspect 13f158a563b8 | grep -i ipaddress
            "SecondaryIPAddresses": null,
            "IPAddress": "172.17.0.17",
                    "IPAddress": "172.17.0.17",

/home/docker> curl 172.17.0.17
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>

/home/docker> ping 172.17.0.17
PING 172.17.0.17 (172.17.0.17): 56 data bytes
64 bytes from 172.17.0.17: seq=0 ttl=64 time=0.104 ms
64 bytes from 172.17.0.17: seq=1 ttl=64 time=0.113 ms
64 bytes from 172.17.0.17: seq=2 ttl=64 time=0.093 ms
64 bytes from 172.17.0.17: seq=3 ttl=64 time=0.268 ms
^C
--- 172.17.0.17 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max = 0.093/0.144/0.268 ms

/home/docker> docker container run -d -p 8383:80 nginx
3ab7ad7ceea67d9b624e1cac2fa4a2078525f1cea03d74c717e19141ce6cb0fb

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
3ab7ad7ceea6        nginx                                                            "nginx -g 'daemon ..."   19 seconds ago      Up 18 seconds       0.0.0.0:8383->80/tcp                                                 elegant_wescoff
13f158a563b8        nginx                                                            "nginx -g 'daemon ..."   11 minutes ago      Up 11 minutes       80/tcp                                                               unruffled_khorana

/home/docker> docker container inspect 3ab7ad7ceea6 | grep -i ipaddress
            "SecondaryIPAddresses": null,
            "IPAddress": "172.17.0.18",
                    "IPAddress": "172.17.0.18",

/home/docker>


-----------------------------------------------------------------------------------------------

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                           COMMAND                  CREATED             STATUS              PORTS                                                               NAMES
8db6bd3922ee        nginx                                                           "nginx -g 'daemon ..."   5 minutes ago       Up 5 minutes        80/tcp                                                              vibrant_davinci
3ab7ad7ceea6        nginx                                                           "nginx -g 'daemon ..."   12 minutes ago      Up 12 minutes       0.0.0.0:883->80/tcp                                                 elegant_wescoff
13f158a563b8        nginx                                                           "nginx -g 'daemon ..."   23 minutes ago      Up 23 minutes       80/tcp                                                              unruffled_khorana

/home/docker> docker container exec 8db6bd3922ee ls
bin
boot
dev
etc
home
lib
lib64
media
mnt
opt
proc
root
run
sbin
srv
sys
tmp
usr
var

/home/docker> ls /
bin  d     dev  home  lib    linuxrc  mnt  proc  run   srv  tmp  var
c    data  etc  init  lib64  media    opt  root  sbin  sys  usr

/home/docker> docker container exec 8db6bd3922ee touch /tmp/f1.txt

/home/docker> ls /tmp/f1.txt
ls: cannot access '/tmp/f1.txt': No such file or directory

/home/docker> docker container exec 8db6bd3922ee ls /tmp/f1.txt
/tmp/f1.txt

/home/docker> docker container exec -it 8db6bd3922ee sh
# ls
bin   dev  home  lib64  mnt  proc  run   srv  tmp  var
boot  etc  lib   media  opt  root  sbin  sys  usr
# bash
root@8db6bd3922ee:/# cd /usr/share/
X11/             dict/            java/            pam/
adduser/         doc/             keyrings/        pam-configs/
base-files/      doc-base/        libc-bin/        perl5/
base-passwd/     dpkg/            lintian/         pixmaps/
bash-completion/ fontconfig/      locale/          tabset/
bug/             fonts/           man/             terminfo/
common-licenses/ gcc-6/           menu/            xml/
debconf/         gdb/             misc/            zoneinfo/
debianutils/     info/            nginx/
root@8db6bd3922ee:/# cd /usr/share/nginx/html/
50x.html    index.html
root@8db6bd3922ee:/# cd /usr/share/nginx/html/
root@8db6bd3922ee:/usr/share/nginx/html# ls
50x.html  index.html
root@8db6bd3922ee:/usr/share/nginx/html# cat index.html
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>
root@8db6bd3922ee:/usr/share/nginx/html# ls
50x.html  index.html
root@8db6bd3922ee:/usr/share/nginx/html# vi mypage.html
bash: vi: command not found
root@8db6bd3922ee:/usr/share/nginx/html# ps
bash: ps: command not found
root@8db6bd3922ee:/usr/share/nginx/html# cat > mypage.html
<h1> My PRODUCT CODE </h1>
^C
root@8db6bd3922ee:/usr/share/nginx/html# cat mypage.html
<h1> My PRODUCT CODE </h1>
root@8db6bd3922ee:/usr/share/nginx/html# ls
50x.html  index.html  mypage.html
root@8db6bd3922ee:/usr/share/nginx/html# exit
exit
# exit

/home/docker> docker container inspect  8db6bd3922ee | grep -i ipaddress
            "SecondaryIPAddresses": null,
            "IPAddress": "172.17.0.19",
                    "IPAddress": "172.17.0.19",

/home/docker> curl "172.17.0.19"
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>

/home/docker> curl 172.17.0.19/mypage.html
<h1> My PRODUCT CODE </h1>

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                           COMMAND                  CREATED             STATUS              PORTS                                                               NAMES
8db6bd3922ee        nginx                                                           "nginx -g 'daemon ..."   16 minutes ago      Up 16 minutes       80/tcp                                                              vibrant_davinci
3ab7ad7ceea6        nginx                                                           "nginx -g 'daemon ..."   23 minutes ago      Up 23 minutes       0.0.0.0:883->80/tcp                                                 elegant_wescoff
13f158a563b8        nginx                                                           "nginx -g 'daemon ..."   34 minutes ago      Up 34 minutes       80/tcp                                                              unruffled_khorana

/home/docker> docker container exec -it 3ab7ad7ceea6 bash
root@3ab7ad7ceea6:/# cd /usr/share/nginx/html/
root@3ab7ad7ceea6:/usr/share/nginx/html# ls
50x.html  index.html
root@3ab7ad7ceea6:/usr/share/nginx/html# cat > mypage.html
<h1> My Code </h1>
^C
root@3ab7ad7ceea6:/usr/share/nginx/html#
root@3ab7ad7ceea6:/usr/share/nginx/html# cat mypage.html
<h1> My Code </h1>
root@3ab7ad7ceea6:/usr/share/nginx/html# exit
exit

/home/docker>

-------------------------------------------------------------------


/home/docker> docker image pull alpine
Using default tag: latest
latest: Pulling from library/alpine
8e402f1a9c57: Already exists
Digest: sha256:644fcb1a676b5165371437feaa922943aaf7afcfa8bfee4472f6860aad1ef2a0
Status: Downloaded newer image for alpine:latest

/home/docker> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES
698651cb0fab        nginx-code                                                                               "nginx -g 'daemon ..."   5 minutes ago       Up 5 minutes        0.0.0.0:                        8585->80/tcp                                                 keen_spence

/home/docker> docker container rm -f 698651cb0fab
698651cb0fab

/home/docker> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES

/home/docker> docker container run -d alpine
b8139244b459998c86835a63dd1ca3d3d03a914ed30e85a7808584237a860ba9

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS                                              PORTS                                                                NAMES
b8139244b459        alpine                                                                                   "/bin/sh"                31 seconds ago      Exited (0) 30 seconds ago                                                                                                thirsty_vo                        lhard

/home/docker> docker container run -d alpine ping google.com
9faac3696ba9039ce4efd1faf10dc4d1f0225695050168d330a3da5e7820f90c

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES
9faac3696ba9        alpine                                                                                   "ping google.com"        4 seconds ago       Up 3 seconds                                                                                                     gifted_joliot

/home/docker> docker container exec -it 9faac3696ba9 sh
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 ping google.com
    6 root      0:00 sh
   10 root      0:00 ps
/ # ps -ef
PID   USER     TIME  COMMAND
    1 root      0:00 ping google.com
    6 root      0:00 sh
   11 root      0:00 ps -ef
/ # exit

/home/docker> docker container run -d alpine ping -c30 google.com
d1e00a85fb6f9119e80affe46b7e5adcf3cb45a41320ed7ecec2639607527bd4

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES
d1e00a85fb6f        alpine                                                                                   "ping -c30 google.com"   6 seconds ago       Up 5 seconds                                                                                                     nostalgic_gates
9faac3696ba9        alpine                                                                                   "ping google.com"        6 minutes ago       Up 6 minutes                                                                                                     gifted_joliot

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES
d1e00a85fb6f        alpine                                                                                   "ping -c30 google.com"   28 seconds ago      Up 28 seconds                                                                                                    nostalgic_gates
9faac3696ba9        alpine                                                                                   "ping google.com"        6 minutes ago       Up 6 minutes                                                                                                     gifted_joliot

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES
9faac3696ba9        alpine                                                                                   "ping google.com"        6 minutes ago       Up 6 minutes                                                                                                     gifted_joliot

/home/docker> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS                                              PORTS                                                                NAMES
d1e00a85fb6f        alpine                                                                                   "ping -c30 google.com"   48 seconds ago      Exited (0) 18 seconds ago                                                                                                nostalgic_                        gates
9faac3696ba9        alpine                                                                                   "ping google.com"        6 minutes ago       Up 6 minutes                                                                                                             gifted_jol                        iot
b8139244b459        alpine                                                                                   "/bin/sh"                10 minutes ago      Exited (0) 10 minutes ago                                                                                                thirsty_vo                        lhard

/home/docker> docker container run -d nginx
5f99e5de3fe9f12cbd24e31e72c3937666bf100ec76984ff05f4fa3ad9a468bb

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES
5f99e5de3fe9        nginx                                                                                    "nginx -g 'daemon ..."   7 seconds ago       Up 6 seconds        80/tcp                                                                                       priceless_lamport
9faac3696ba9        alpine                                                                                   "ping google.com"        7 minutes ago       Up 7 minutes                                                                                                     gifted_joliot

/home/docker> docker container rm -rf 5f99e5de3fe9 9faac3696ba9
unknown shorthand flag: 'r' in -rf
See 'docker container rm --help'.

/home/docker> docker container rm -f 5f99e5de3fe9 9faac3696ba9
5f99e5de3fe9
9faac3696ba9

/home/docker> docker container prune
WARNING! This will remove all stopped containers.
Are you sure you want to continue? [y/N] y
Deleted Containers:
d1e00a85fb6f9119e80affe46b7e5adcf3cb45a41320ed7ecec2639607527bd4
b8139244b459998c86835a63dd1ca3d3d03a914ed30e85a7808584237a860ba9

Total reclaimed space: 0B

/home/docker>

/home/docker> docker container run -it alpine sh
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 sh
    5 root      0:00 ps
/ # apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.g                        z
v3.9.2-48-g471cf80f4f [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]
v3.9.2-49-g87ea954c9b [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]
OK: 9758 distinct packages available
/ # apk add apache2
(1/6) Installing libuuid (2.33-r0)
(2/6) Installing apr (1.6.5-r0)
(3/6) Installing expat (2.2.6-r0)
(4/6) Installing apr-util (1.6.1-r5)
(5/6) Installing pcre (8.42-r1)
(6/6) Installing apache2 (2.4.38-r2)
Executing apache2-2.4.38-r2.pre-install
Executing busybox-1.29.3-r10.trigger
OK: 9 MiB in 20 packages
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 sh
   16 root      0:00 ps
/ # cd /etc/ap
apache2/  apk/
/ # cd /etc/apache2/
/etc/apache2 # ls
conf.d      httpd.conf  magic       mime.types
/etc/apache2 # cat httpd.conf
#
# This is the main Apache HTTP server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See <URL:http://httpd.apache.org/docs/2.4/> for detailed information.
# In particular, see
# <URL:http://httpd.apache.org/docs/2.4/mod/directives.html>
# for a discussion of each configuration directive.
#
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.
#
# Configuration and logfile names: If the filenames you specify for many
# of the server's control files begin with "/" (or "drive:/" for Win32), the
# server will use that explicit path.  If the filenames do *not* begin
# with "/", the value of ServerRoot is prepended -- so "logs/access_log"
# with ServerRoot set to "/usr/local/apache2" will be interpreted by the
# server as "/usr/local/apache2/logs/access_log", whereas "/logs/access_log"
# will be interpreted as '/logs/access_log'.

#
# ServerTokens
# This directive configures what you return as the Server HTTP response
# Header. The default is 'Full' which sends information about the OS-Type
# and compiled in modules.
# Set to one of:  Full | OS | Minor | Minimal | Major | Prod
# where Full conveys the most information, and Prod the least.
#
ServerTokens OS

#
# ServerRoot: The top of the directory tree under which the server's
# configuration, error, and log files are kept.
#
# Do not add a slash at the end of the directory path.  If you point
# ServerRoot at a non-local disk, be sure to specify a local disk on the
# Mutex directive, if file-based mutexes are used.  If you wish to share the
# same ServerRoot for multiple httpd daemons, you will need to change at
# least PidFile.
#
ServerRoot /var/www

#
# Mutex: Allows you to set the mutex mechanism and mutex file directory
# for individual mutexes, or change the global defaults
#
# Uncomment and change the directory if mutexes are file-based and the default
# mutex file directory is not on a local disk or is not appropriate for some
# other reason.
#
# Mutex default:/run/apache2

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
# ports, instead of the default. See also the <VirtualHost>
# directive.
#
# Change this to Listen on specific IP addresses as shown below to
# prevent Apache from glomming onto all bound IP addresses.
#
#Listen 12.34.56.78:80
Listen 80

#
# Dynamic Shared Object (DSO) Support
#
# To be able to use the functionality of a module which was built as a DSO you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Statically compiled modules (those listed by `httpd -l') do not need
# to be loaded here.
#
# Example:
# LoadModule foo_module modules/mod_foo.so
#
#LoadModule mpm_event_module modules/mod_mpm_event.so
LoadModule mpm_prefork_module modules/mod_mpm_prefork.so
#LoadModule mpm_worker_module modules/mod_mpm_worker.so
LoadModule authn_file_module modules/mod_authn_file.so
#LoadModule authn_dbm_module modules/mod_authn_dbm.so
#LoadModule authn_anon_module modules/mod_authn_anon.so
#LoadModule authn_dbd_module modules/mod_authn_dbd.so
#LoadModule authn_socache_module modules/mod_authn_socache.so
LoadModule authn_core_module modules/mod_authn_core.so
LoadModule authz_host_module modules/mod_authz_host.so
LoadModule authz_groupfile_module modules/mod_authz_groupfile.so
LoadModule authz_user_module modules/mod_authz_user.so
#LoadModule authz_dbm_module modules/mod_authz_dbm.so
#LoadModule authz_owner_module modules/mod_authz_owner.so
#LoadModule authz_dbd_module modules/mod_authz_dbd.so
LoadModule authz_core_module modules/mod_authz_core.so
LoadModule access_compat_module modules/mod_access_compat.so
LoadModule auth_basic_module modules/mod_auth_basic.so
#LoadModule auth_form_module modules/mod_auth_form.so
#LoadModule auth_digest_module modules/mod_auth_digest.so
#LoadModule allowmethods_module modules/mod_allowmethods.so
#LoadModule file_cache_module modules/mod_file_cache.so
#LoadModule cache_module modules/mod_cache.so
#LoadModule cache_disk_module modules/mod_cache_disk.so
#LoadModule cache_socache_module modules/mod_cache_socache.so
#LoadModule socache_shmcb_module modules/mod_socache_shmcb.so
#LoadModule socache_dbm_module modules/mod_socache_dbm.so
#LoadModule socache_memcache_module modules/mod_socache_memcache.so
#LoadModule watchdog_module modules/mod_watchdog.so
#LoadModule macro_module modules/mod_macro.so
#LoadModule dbd_module modules/mod_dbd.so
#LoadModule dumpio_module modules/mod_dumpio.so
#LoadModule echo_module modules/mod_echo.so
#LoadModule buffer_module modules/mod_buffer.so
#LoadModule data_module modules/mod_data.so
#LoadModule ratelimit_module modules/mod_ratelimit.so
LoadModule reqtimeout_module modules/mod_reqtimeout.so
#LoadModule ext_filter_module modules/mod_ext_filter.so
#LoadModule request_module modules/mod_request.so
#LoadModule include_module modules/mod_include.so
LoadModule filter_module modules/mod_filter.so
#LoadModule reflector_module modules/mod_reflector.so
#LoadModule substitute_module modules/mod_substitute.so
#LoadModule sed_module modules/mod_sed.so
#LoadModule charset_lite_module modules/mod_charset_lite.so
#LoadModule deflate_module modules/mod_deflate.so
LoadModule mime_module modules/mod_mime.so
LoadModule log_config_module modules/mod_log_config.so
#LoadModule log_debug_module modules/mod_log_debug.so
#LoadModule log_forensic_module modules/mod_log_forensic.so
#LoadModule logio_module modules/mod_logio.so
LoadModule env_module modules/mod_env.so
#LoadModule mime_magic_module modules/mod_mime_magic.so
#LoadModule expires_module modules/mod_expires.so
LoadModule headers_module modules/mod_headers.so
#LoadModule usertrack_module modules/mod_usertrack.so
#LoadModule unique_id_module modules/mod_unique_id.so
LoadModule setenvif_module modules/mod_setenvif.so
LoadModule version_module modules/mod_version.so
#LoadModule remoteip_module modules/mod_remoteip.so
#LoadModule session_module modules/mod_session.so
#LoadModule session_cookie_module modules/mod_session_cookie.so
#LoadModule session_crypto_module modules/mod_session_crypto.so
#LoadModule session_dbd_module modules/mod_session_dbd.so
#LoadModule slotmem_shm_module modules/mod_slotmem_shm.so
#LoadModule slotmem_plain_module modules/mod_slotmem_plain.so
#LoadModule dialup_module modules/mod_dialup.so
#LoadModule http2_module modules/mod_http2.so
LoadModule unixd_module modules/mod_unixd.so
#LoadModule heartbeat_module modules/mod_heartbeat.so
#LoadModule heartmonitor_module modules/mod_heartmonitor.so
LoadModule status_module modules/mod_status.so
LoadModule autoindex_module modules/mod_autoindex.so
#LoadModule asis_module modules/mod_asis.so
#LoadModule info_module modules/mod_info.so
#LoadModule suexec_module modules/mod_suexec.so
<IfModule !mpm_prefork_module>
        #LoadModule cgid_module modules/mod_cgid.so
</IfModule>
<IfModule mpm_prefork_module>
        #LoadModule cgi_module modules/mod_cgi.so
</IfModule>
#LoadModule vhost_alias_module modules/mod_vhost_alias.so
#LoadModule negotiation_module modules/mod_negotiation.so
LoadModule dir_module modules/mod_dir.so
#LoadModule actions_module modules/mod_actions.so
#LoadModule speling_module modules/mod_speling.so
#LoadModule userdir_module modules/mod_userdir.so
LoadModule alias_module modules/mod_alias.so
#LoadModule rewrite_module modules/mod_rewrite.so

LoadModule negotiation_module modules/mod_negotiation.so

<IfModule unixd_module>
#
# If you wish httpd to run as a different user or group, you must run
# httpd as root initially and it will switch.
#
# User/Group: The name (or #number) of the user/group to run httpd as.
# It is usually good practice to create a dedicated user and group for
# running httpd, as with most system services.
#
User apache
Group apache

</IfModule>

# 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.  e.g. admin@your-domain.com
#
ServerAdmin you@example.com

#
# Optionally add a line containing the server version and virtual host
# name to server-generated pages (internal error documents, FTP directory
# listings, mod_status and mod_info output etc., but not CGI generated
# documents or custom error documents).
# Set to "EMail" to also include a mailto: link to the ServerAdmin.
# Set to one of:  On | Off | EMail
#
ServerSignature On

#
# ServerName gives the name and port that the server uses to identify itself.
# This can often be determined automatically, but we recommend you specify
# it explicitly to prevent problems during startup.
#
# If your host doesn't have a registered DNS name, enter its IP address here.
#
#ServerName www.example.com:80

#
# Deny access to the entirety of your server's filesystem. You must
# explicitly permit access to web content directories in other
# <Directory> blocks below.
#
<Directory />
    AllowOverride none
    Require all denied
</Directory>

#
# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.
#

#
# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
#
DocumentRoot "/var/www/localhost/htdocs"
<Directory "/var/www/localhost/htdocs">
    #
    # Possible values for the Options directive are "None", "All",
    # or any combination of:
    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews
    #
    # Note that "MultiViews" must be named *explicitly* --- "Options All"
    # doesn't give it to you.
    #
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.4/mod/core.html#options
    # for more information.
    #
    Options Indexes FollowSymLinks

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be "All", "None", or any combination of the keywords:
    #   AllowOverride FileInfo AuthConfig Limit
    #
    AllowOverride None

    #
    # Controls who can get stuff from this server.
    #
    Require all granted
</Directory>

#
# DirectoryIndex: sets the file that Apache will serve if a directory
# is requested.
#
<IfModule dir_module>
    DirectoryIndex index.html
</IfModule>

#
# The following lines prevent .htaccess and .htpasswd files from being
# viewed by Web clients.
#
<Files ".ht*">
    Require all denied
</Files>

#
# ErrorLog: The location of the error log file.
# If you do not specify an ErrorLog directive within a <VirtualHost>
# container, error messages relating to that virtual host will be
# logged here.  If you *do* define an error logfile for a <VirtualHost>
# container, that host's errors will be logged there and not here.
#
ErrorLog logs/error.log

#
# LogLevel: Control the number of messages logged to the error_log.
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
#
LogLevel warn

<IfModule log_config_module>
    #
    # The following directives define some format nicknames for use with
    # a CustomLog directive (see below).
    #
    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" co                        mbined
    LogFormat "%h %l %u %t \"%r\" %>s %b" common

    <IfModule logio_module>
      # You need to enable mod_logio.c to use %I and %O
      LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" %                        I %O" combinedio
    </IfModule>

    #
    # The location and format of the access logfile (Common Logfile Format).
    # If you do not define any access logfiles within a <VirtualHost>
    # container, they will be logged here.  Contrariwise, if you *do*
    # define per-<VirtualHost> access logfiles, transactions will be
    # logged therein and *not* in this file.
    #
    #CustomLog logs/access.log common

    #
    # If you prefer a logfile with access, agent, and referer information
    # (Combined Logfile Format) you can use the following directive.
    #
    CustomLog logs/access.log combined
</IfModule>

<IfModule alias_module>
    #
    # Redirect: Allows you to tell clients about documents that used to
    # exist in your server's namespace, but do not anymore. The client
    # will make a new request for the document at its new location.
    # Example:
    # Redirect permanent /foo http://www.example.com/bar

    #
    # Alias: Maps web paths into filesystem paths and is used to
    # access content that does not live under the DocumentRoot.
    # Example:
    # Alias /webpath /full/filesystem/path
    #
    # If you include a trailing / on /webpath then the server will
    # require it to be present in the URL.  You will also likely
    # need to provide a <Directory> section to allow access to
    # the filesystem path.

    #
    # ScriptAlias: This controls which directories contain server scripts.
    # ScriptAliases are essentially the same as Aliases, except that
    # documents in the target directory are treated as applications and
    # run by the server when requested rather than as documents sent to the
    # client.  The same rules about trailing "/" apply to ScriptAlias
    # directives as to Alias.
    #
    ScriptAlias /cgi-bin/ "/var/www/localhost/cgi-bin/"

</IfModule>

<IfModule cgid_module>
    #
    # ScriptSock: On threaded servers, designate the path to the UNIX
    # socket used to communicate with the CGI daemon of mod_cgid.
    #
    #Scriptsock cgisock
</IfModule>

#
# "/var/www/localhost/cgi-bin" should be changed to whatever your ScriptAliased
# CGI directory exists, if you have that configured.
#
<Directory "/var/www/localhost/cgi-bin">
    AllowOverride None
    Options None
    Require all granted
</Directory>

<IfModule headers_module>
    #
    # Avoid passing HTTP_PROXY environment to CGI's on this or any proxied
    # backend servers which have lingering "httpoxy" defects.
    # 'Proxy' request header is undefined by the IETF, not listed by IANA
    #
    RequestHeader unset Proxy early
</IfModule>

<IfModule mime_module>
    #
    # TypesConfig points to the file containing the list of mappings from
    # filename extension to MIME-type.
    #
    TypesConfig /etc/apache2/mime.types

    #
    # AddType allows you to add to or override the MIME configuration
    # file specified in TypesConfig for specific file types.
    #
    #AddType application/x-gzip .tgz
    #
    # AddEncoding allows you to have certain browsers uncompress
    # information on the fly. Note: Not all browsers support this.
    #
    #AddEncoding x-compress .Z
    #AddEncoding x-gzip .gz .tgz
    #
    # If the AddEncoding directives above are commented-out, then you
    # probably should define those extensions to indicate media types:
    #
    AddType application/x-compress .Z
    AddType application/x-gzip .gz .tgz

    #
    # AddHandler allows you to map certain file extensions to "handlers":
    # actions unrelated to filetype. These can be either built into the server
    # or added with the Action directive (see below)
    #
    # To use CGI scripts outside of ScriptAliased directories:
    # (You will also need to add "ExecCGI" to the "Options" directive.)
    #
    #AddHandler cgi-script .cgi

    # For type maps (negotiated resources):
    #AddHandler type-map var

    #
    # Filters allow you to process content before it is sent to the client.
    #
    # To parse .shtml files for server-side includes (SSI):
    # (You will also need to add "Includes" to the "Options" directive.)
    #
    #AddType text/html .shtml
    #AddOutputFilter INCLUDES .shtml
</IfModule>

#
# The mod_mime_magic module allows the server to use various hints from the
# contents of the file itself to determine its type.  The MIMEMagicFile
# directive tells the module where the hint definitions are located.
#
<IfModule mime_magic_module>
    MIMEMagicFile /etc/apache2/magic
</IfModule>

#
# Customizable error responses come in three flavors:
# 1) plain text 2) local redirects 3) external redirects
#
# Some examples:
#ErrorDocument 500 "The server made a boo boo."
#ErrorDocument 404 /missing.html
#ErrorDocument 404 "/cgi-bin/missing_handler.pl"
#ErrorDocument 402 http://www.example.com/subscription_info.html
#

#
# MaxRanges: Maximum number of Ranges in a request before
# returning the entire resource, or one of the special
# values 'default', 'none' or 'unlimited'.
# Default setting is to accept 200 Ranges.
#MaxRanges unlimited

#
# EnableMMAP and EnableSendfile: On systems that support it,
# memory-mapping or the sendfile syscall may be used to deliver
# files.  This usually improves server performance, but must
# be turned off when serving from networked-mounted
# filesystems or if support for these functions is otherwise
# broken on your system.
# Defaults: EnableMMAP On, EnableSendfile Off
#
#EnableMMAP off
#EnableSendfile on

# Load config files from the config directory "/etc/apache2/conf.d".
#
IncludeOptional /etc/apache2/conf.d/*.conf
/etc/apache2 #
/etc/apache2 # httpd
AH00558: httpd: Could not reliably determine the server's fully qualified domai                        n name, using 172.17.0.17. Set the 'ServerName' directive globally to suppress                         this message
/etc/apache2 # ps
PID   USER     TIME  COMMAND
    1 root      0:00 sh
   20 root      0:00 httpd
   21 apache    0:00 httpd
   22 apache    0:00 httpd
   23 apache    0:00 httpd
   24 apache    0:00 httpd
   25 apache    0:00 httpd
   26 root      0:00 ps
/etc/apache2 # exit

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS              PORTS                                                                                        NAMES

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                                                    COMMAND                  CREATED             STATUS                                              PORTS                                                                NAMES
c5fbf4838014        alpine                                                                                   "sh"                     5 minutes ago       Exited (0) 11 seconds ago                                                                                                festive_bl                        ackwell

/home/docker> docker container commit c5fbf4838014 alpine-apache
sha256:44aba7384ba90e52fdedcf9fbd637b6cd8964a8e3e203e0091cbfc0f77bc3aa7

/home/docker> docker image ls alpine-apache
REPOSITORY          TAG                 IMAGE ID            CREATED                                      SIZE
alpine-apache       latest              44aba7384ba9        About a minute ago                           10.4MB

/home/docker>

/home/docker> docker image ls alpine
REPOSITORY          TAG                 IMAGE ID            CREATED                                     SIZE
alpine              latest              5cb3aa00f899        3 weeks ago                                 5.53MB

/home/docker> docker image history alpine
IMAGE               CREATED             CREATED BY                                                              SIZE                COMMENT
5cb3aa00f899        3 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/sh"]                                      0B
<missing>           3 weeks ago         /bin/sh -c #(nop) ADD file:88875982b051                        2a9...   5.53MB

/home/docker> docker image history alpine
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
5cb3aa00f899        3 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B             
<missing>           3 weeks ago         /bin/sh -c #(nop) ADD file:88875982b0512a9...   5.53MB         

/home/docker> docker image ls alpine-apache
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine-apache       latest              44aba7384ba9        4 minutes ago       10.4MB

/home/docker> docker image history alpine-apache
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
44aba7384ba9        6 minutes ago       sh                                              4.9MB          
5cb3aa00f899        3 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B             
<missing>           3 weeks ago         /bin/sh -c #(nop) ADD file:88875982b0512a9...   5.53MB         

/home/docker> docker image history alpine
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
5cb3aa00f899        3 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B             
<missing>           3 weeks ago         /bin/sh -c #(nop) ADD file:88875982b0512a9...   5.53MB         

/home/docker> docker image ls alpine
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine              latest              5cb3aa00f899        3 weeks ago         5.53MB

/home/docker> docker image ls alpine-apache
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine-apache       latest              44aba7384ba9        8 minutes ago       10.4MB

/home/docker> docker container run -d alpine-apache ping google.com
c22348c7fab86080d15017b3d55b3473d40c5f50feea8dc6742f113de265c77a

/home/docker> docker container exec -it c22348c7fab sh
/ # cd /var/www/lo
localhost/  logs/
/ # cd /var/www/localhost/
cgi-bin/  htdocs/
/ # cd /var/www/localhost/htdocs/
/var/www/localhost/htdocs # ls
index.html
/var/www/localhost/htdocs # cat > mypage.html
<h1> My Code </h1>
^C
/var/www/localhost/htdocs #
/var/www/localhost/htdocs # cat mypage.html
<h1> My Code </h1>
/var/www/localhost/htdocs # exit

/home/docker> docker container stop c22348c7fab

c22348c7fab

/home/docker>

/home/docker> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                            PORTS                                                                NAMES
c22348c7fab8        alpine-apache                                                    "ping google.com"        3 minutes ago       Exited (137) About a minute ago                                                                        affectionate_panini
c5fbf4838014        alpine                                                           "sh"                     25 minutes ago      Exited (0) 20 minutes ago                                                                              festive_blackwell

/home/docker> docker container commit c22348c7fab8 alpine-apache-code
sha256:ac08ce6cacda4f9cd3e6e6c94c2b7495772a821f74acc4284e767f67fe39c1d1

/home/docker> docker image ls alpine-apache-code
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
alpine-apache-code   latest              ac08ce6cacda        28 seconds ago      10.4MB

/home/docker> docker image ls alpine-apache
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine-apache       latest              44aba7384ba9        19 minutes ago      10.4MB

/home/docker> docker image ls alpine
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine              latest              5cb3aa00f899        3 weeks ago         5.53MB

/home/docker> docker image history alpine-apache-code
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
ac08ce6cacda        56 seconds ago      ping google.com                                 174B           
44aba7384ba9        20 minutes ago      sh                                              4.9MB          
5cb3aa00f899        3 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B             
<missing>           3 weeks ago         /bin/sh -c #(nop) ADD file:88875982b0512a9...   5.53MB         

/home/docker>
